<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Harmless Audio Prank â€” Auto Play 2 min</title>
  <style>
    html,body { height:100%; margin:0; font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Noto Sans', Arial; background:#000; color:#fff; }
    /* The overlay is the whole page â€” starts visible */
    .overlay {
      position:fixed;
      inset:0;
      background:#000;
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      z-index:9999;
      user-select:none;
      -webkit-user-select:none;
    }
    .timer { font-size:4.5rem; letter-spacing:2px; margin-bottom:12px; }
    .msg { font-size:1.05rem; opacity:0.9; margin-bottom:18px; text-align:center; max-width:90%; }
    .tapnote { font-size:0.95rem; color:#bbb; margin-top:8px; }
    /* hidden fallback prompt */
    .fallback {
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:10000;
      background:rgba(0,0,0,0.85);
      color:#fff;
      flex-direction:column;
      padding:20px;
      text-align:center;
      gap:12px;
    }
    .start-btn {
      padding:12px 18px;
      border-radius:10px;
      border:0;
      background:#fff;
      color:#000;
      font-weight:600;
      cursor:pointer;
    }
  </style>
</head>
<body>
  <!-- Hidden audio element (no controls) -->
  <audio id="prankAudio" preload="auto" playsinline>
    <source src="https://drive.google.com/uc?export=download&id=1yzxaT2y2ymIISziU21Ks_dwKuxJbk9V8" type="audio/mpeg">
    Your browser does not support audio.
  </audio>

  <!-- Full-page overlay visible immediately -->
  <div id="overlay" class="overlay">
    <div class="timer" id="timer">02:00</div>
    <div class="msg" id="msg">Enjoy the sound â€” screen will return to normal after 2 minutes.</div>
    <div class="tapnote" id="tapnote" style="display:none;">If audio didn't start automatically, tap anywhere to start.</div>
  </div>

  <!-- Fallback prompt shown only if autoplay blocked -->
  <div id="fallback" class="fallback" style="display:none;">
    <div style="font-size:1.1rem;">Audio playback blocked by browser.</div>
    <div style="font-size:0.95rem;">Tap the button below to start the audio and the 2-minute blank screen.</div>
    <button id="startBtn" class="start-btn">Start Now</button>
  </div>

  <script>
    const audio = document.getElementById('prankAudio');
    const overlay = document.getElementById('overlay');
    const timerEl = document.getElementById('timer');
    const msgEl = document.getElementById('msg');
    const tapNote = document.getElementById('tapnote');
    const fallback = document.getElementById('fallback');
    const startBtn = document.getElementById('startBtn');

    const DURATION = 120;
    let timeLeft = DURATION;
    let timer = null;

    function formatTime(t){
      const m = String(Math.floor(t/60)).padStart(2,'0');
      const s = String(t%60).padStart(2,'0');
      return `${m}:${s}`;
    }

    function beginCountdown(){
      // ensure overlay visible
      overlay.style.display = 'flex';
      timeLeft = DURATION;
      timerEl.textContent = formatTime(timeLeft);
      if (timer) clearInterval(timer);
      timer = setInterval(() => {
        timeLeft--;
        if (timeLeft <= 0){
          clearInterval(timer);
          timer = null;
          timerEl.textContent = "00:00";
          msgEl.textContent = "Time over â€” prank khatam! ðŸ˜Š";
          try { audio.pause(); audio.currentTime = 0; } catch(e){}
          setTimeout(() => {
            overlay.style.display = 'none';
          }, 800);
        } else {
          timerEl.textContent = formatTime(timeLeft);
        }
      }, 1000);
    }

    function tryAutoplayThenStart(){
      // Try to start audio immediately (user did tap the link to open the page)
      audio.currentTime = 0;
      const p = audio.play();
      if (p !== undefined){
        p.then(() => {
          // playback started
          beginCountdown();
        }).catch((err) => {
          // autoplay blocked
          console.warn('Autoplay blocked:', err);
          // show tap note and fallback prompt
          tapNote.style.display = 'block';
          fallback.style.display = 'flex';
          // Also attach one-time touchstart/click to body to start if user taps anywhere
          const onUserTap = () => {
            fallback.style.display = 'none';
            tapNote.style.display = 'none';
            document.body.removeEventListener('click', onUserTap);
            document.body.removeEventListener('touchstart', onUserTap);
            audio.play().then(() => beginCountdown()).catch(()=>{});
          };
          document.body.addEventListener('click', onUserTap);
          document.body.addEventListener('touchstart', onUserTap);
        });
      } else {
        // older browsers may return undefined; assume playback will start
        beginCountdown();
      }
    }

    // If user opened link (a user gesture), some browsers permit autoplay.
    window.addEventListener('load', () => {
      tryAutoplayThenStart();
    });

    // Fallback button
    startBtn.addEventListener('click', () => {
      fallback.style.display = 'none';
      tapNote.style.display = 'none';
      audio.play().then(() => beginCountdown()).catch((e)=>{ alert('Playback failed: '+e); });
    });

    // Also allow tapping anywhere in case autoplay was blocked and user taps overlay
    overlay.addEventListener('click', () => {
      if (!timer){
        // if countdown not started, try to start
        audio.play().then(() => beginCountdown()).catch(()=>{ fallback.style.display='flex'; });
      }
    });

    // Safety: clear timer on unload
    window.addEventListener('beforeunload', () => {
      if (timer) clearInterval(timer);
    });
  </script>
</body>
</html>
